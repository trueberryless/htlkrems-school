<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
      <meta name="title" content="Galileo Computing :: Visual C# 2012 - 25  Weitere Möglichkeiten der Datenbindung">
      <meta name="author" content="Andreas Kühnel">
      <meta name="publisher" content="Galileo Press">
      <meta name="copyright" content="© Galileo Press, Bonn 2013">
      <meta name="Desription" content="Visual C# 2012 - Das umfassende Handbuch - 25  Weitere Möglichkeiten der Datenbindung">
      <meta name="robots" content="INDEX,FOLLOW">
      <meta http-equiv="content-language" content="de">
      <title>Galileo Computing :: Visual C# 2012 - 25  Weitere Möglichkeiten der Datenbindung</title>
      <link rel="stylesheet" type="text/css" href="common/galileo_open.css">
      <link rel="stylesheet" type="text/css" href="common/prettify.css">
      <link rel="stylesheet" type="text/css" media="screen" href="common/css/lightbox.css"><script type="text/javascript" src="common/js/prototype.js"></script><script src="common/js/scriptaculous.js?load=effects,builder"></script><script type="text/javascript" src="common/js/lightbox.js"></script><link rel="prev" href="25_002.html">
      <link rel="next" href="1997_25_004.html"><script type="text/javascript" src="common/prettify.js"></script><script type="text/javascript" src="common/openwin.js"></script></head>
   <body vlink="#000099" link="#000099" alink="#000099" onload="prettyPrint()">
      <table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#000066">
         <tr>
            <td height="74" valign="bottom" colspan="2"><a href="https://www.galileo-press.de/openbook/?GPP=opvcs"><img src="common/galileocomputing_openbook.gif" width="200" height="56" border="0" alt="Galileo Computing < openbook &gt;" title="Galileo Computing < openbook &gt;"></a></td>
            <td width="80" height="74"><a href="https://www.galileo-press.de/3243/?GPP=opvcs"><img src="common/galileocomputing.gif" border="0" alt="Galileo Computing - Professionelle Bücher. Auch für Einsteiger." title="Galileo Computing - Professionelle Bücher. Auch für Einsteiger."></a></td>
         </tr>
      </table>
      <div align="right"><a href="https://www.galileo-press.de/3243/?GPP=opvcs" class="navnav">Professionelle Bücher. Auch für Einsteiger.</a></div><br><table class="tbl" border="0" cellpadding="0" cellspacing="0" width="100%">
         <tbody>
            <tr>
               <td width="190" valign="top">
                  <table class="tbl1" border="0" cellpadding="3" cellspacing="0" width="190" align="left">
                     <tbody>
                        <tr>
                           <td class="tbl2"><a class="nav" href="index.html">Inhaltsverzeichnis</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_00_001.html#dodtp98d144f0-bd8d-4de5-8086-32e7ca1478d7"> Vorwort zur 6. Auflage</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_01_001.html#dodtpf471901b-c92c-4256-b4a7-6c4233f40e97">1  Allgemeine Einführung in .NET</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_02_001.html#dodtpa6dfd9e4-6ebc-4240-b08a-4dd8e839b1e9">2  Grundlagen der Sprache C#</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_03_001.html#dodtpf766d18e-5ded-46aa-8e8e-625d86cb0d78">3  Das Klassendesign</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_04_001.html#dodtp1d1f07d4-0731-4e9c-8de8-d69493f7b393">4  Vererbung, Polymorphie und Interfaces</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_05_001.html#dodtp3fff44b2-cd1b-47b7-9a94-fbcb259a84b9">5  Delegates und Ereignisse</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_06_001.html#dodtpaccedd75-eaa3-4322-a479-e04396858096">6  Strukturen und Enumerationen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_07_001.html#dodtp77739224-c0d5-4b2a-9a3e-732e2dfca478">7  Fehlerbehandlung und Debugging</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_08_001.html#dodtp33cf4146-9c07-41aa-b128-fd667a737a33">8  Auflistungsklassen (Collections)</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_09_001.html#dodtp066354eb-ea00-4a8d-aa5a-fa7bd96e026d">9  Generics &#8211; Generische Datentypen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_10_001.html#dodtp077ecd71-a5e8-46be-b6b5-6c31bc77dede">10  Weitere C#-Sprachfeatures</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_11_001.html#dodtp0c006063-d863-416e-b792-4cc39129b894">11  LINQ</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_12_001.html#dodtp2bfdab07-505d-4323-9885-77a8e59fa442">12  Arbeiten mit Dateien und Streams</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_13_001.html#dodtp49638af0-00f8-407f-9740-7dbc1e723fee">13  Binäre Serialisierung</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_14_001.html#dodtp7327df50-2f94-44ea-8c62-26cb1aae6058">14  XML</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_15_001.html#dodtp61e706c0-d922-4db1-b2fb-cda3e1ff9a4c">15  Multithreading und die Task Parallel Library (TPL)</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_16_001.html#dodtp1488d937-efc6-48e5-ba82-1547725215a5">16  Einige wichtige .NET-Klassen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_17_001.html#dodtp91f0667a-84db-4a4f-be78-6e8a0d8a3a2c">17  Projektmanagement und Visual Studio 2012</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_18_001.html#dodtp34972f67-6c1a-406f-a91d-ec8ff67058f9">18  Einführung in die WPF und XAML</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_19_001.html#dodtp2b691ef2-8859-4650-82c1-efe430ea7070">19  WPF-Layout-Container </a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_20_001.html#dodtp7dad73d4-2c09-421f-a8d4-6a78c0a65acc">20  Fenster in der WPF</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_21_001.html#dodtp193e3eb8-5130-4640-865a-fcdd743bac28">21  WPF-Steuerelemente</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_22_001.html#dodtp189c6448-45c3-4ee3-bf41-19ecfa0010d0">22  Elementbindungen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_23_001.html#dodtp5183a0da-5247-4a7c-ad83-22accc03224d">23  Konzepte von WPF</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_24_001.html#dodtp0784a527-2ec1-411a-b5e4-add26ed79abb">24  Datenbindung</a></td>
                        </tr>
                        <tr>
                           <td><a class="navh" href="#dodtp5c4c4699-998d-48a0-b449-ac86d57d6ddb">25  Weitere Möglichkeiten der Datenbindung</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_26_001.html#dodtp5591376e-61df-4e77-a551-681b9cc62287">26  Dependency Properties</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_27_001.html#dodtp00fbcc96-1850-421c-a0b4-f4f585913905">27  Ereignisse in der WPF</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_28_001.html#dodtp0b2d55e9-c350-4f4b-b729-796ab6e638ec">28  WPF-Commands</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_29_001.html#dodtp3d560bbc-9ede-4881-af9f-d9c24c8c5ae8">29  Benutzerdefinierte Controls</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_30_001.html#dodtp6f0f9b84-f8f1-405a-b963-d9c64c6cf3d4">30  2D-Grafik</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_31_001.html#dodtpe8718b27-0d2c-45fd-a030-421a21b5d151">31  ADO.NET &#8211; Verbindungsorientierte Objekte</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_32_001.html#dodtp5631780e-021d-4716-a880-7604e981153d">32  ADO.NET &#8211; Das Command-Objekt</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_33_001.html#dodtp3e44ce92-e1cb-4420-9294-a993f673d1e4">33  ADO.NET &#8211; Der SqlDataAdapter</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_34_001.html#dodtp02622bf1-44a0-453d-828f-5266aea64a96">34  ADO.NET &#8211; Daten im lokalen Speicher </a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_35_001.html#dodtp44f9b504-b660-4f2e-bd26-072f4a498332">35  ADO.NET &#8211; Aktualisieren der Datenbank</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_36_001.html#dodtpd2ab99b1-a59b-43ef-abb1-e6775e3dddf5">36  Stark typisierte DataSets</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_37_001.html#dodtp97eab997-f0da-4739-b514-a73fccd2935a">37  Einführung in das ADO.NET Entity Framework</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_38_001.html#dodtp106a1823-39fd-4557-8819-0e6be4db7cce">38  Datenabfragen des Entity Data Models (EDM)</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_39_001.html#dodtpcc04d69d-d046-42b7-a6f1-37c7e83c0276">39  Entitätsaktualisierung und Zustandsverwaltung </a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_40_001.html#dodtp6a9ab46f-1f4f-41d8-9ab8-bd419b300904">40  Konflikte behandeln</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="1997_41_001.html#dodtp160fa133-1df6-4ab9-a622-c56d87121c23">41  Plain Old CLR Objects (POCOs)</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="stichwort.html">Stichwort</a></td>
                        </tr>
                        <tr>
                           <td><br><a class="navnav"><strong>Download:</strong></a>
                               <br><a href="http://download2.galileo-press.de/openbook/galileocomputing_visual_csharp_2012.zip" class="navnav">- openbook, ca. 26,1 MB</a>
                               <br><a href="http://download2.galileo-press.de/openbook/galileocomputing_visual_csharp_2012_beispiele.zip" class="navnav">- Beispiele, ca. 62,4 MB</a>
                           </td>
                        </tr>
                        <tr>
                           <td><a href="https://www.galileo-press.de/3243/?GPP=opvcs" class="navnav">Buch bestellen</a></td>
                        </tr>
                        <tr>
                           <td><a class="navnav" href="#kommentar">Ihre Meinung?</a><br><br></td>
                        </tr>
                     </tbody>
                  </table>
               </td>
               <td width="10"><img src="common/spacer10.gif" width="10" height="10" alt="Spacer"></td>
               <td width="85%" valign="top">
                  <div style="line-height:100%">
                     <div align="center">
                        <table width="98%" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
                           <tbody>
                              <tr>
                                 <td width="100%" class="start" colspan="1" height="22" align="center">
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                       <tbody>
                                          <tr>
                                             <td width="25%">
                                                <div align="left"><a href="1997_25_002.html" class="navnav"> &lt;&lt; zurück</a></div>
                                             </td>
                                             <td width="49%">
                                                <div align="center"><a href="https://www.galileo-press.de/3243/?GPP=opvcs" class="navnav">Galileo Computing</a> / <a href="https://www.galileo-press.de/openbook/?GPP=opvcs" class="navnav">
                                                      &lt;openbook&gt;</a> / <a href="index.html" class="navnav">Visual C# 2012</a></div>
                                             </td>
                                             <td width="25%">
                                                <div align="right"><a href="1997_25_004.html" class="navnav">vor &gt;&gt; </a></div>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </td>
                              </tr>
                              <tr>
                                 <td width="100%" valign="top">
                                    <table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
                                       <tbody>
                                          <tr>
                                             <td colspan="2"><a href="https://www.galileo-press.de/3243/?GPP=opvcs" class="buchtitel">Visual C# 2012</a><span class="autor"> von Andreas Kühnel</span><br><span class="untertitel">Das umfassende Handbuch</span></td>
                                          </tr>
                                          <tr>
                                             <td valign="top" width="211">
                                                <dl>
                                                   <dt><a href="http://www.galileo-press.de/3243/?GPP=opvcs" class="navnav"><img src="common/9783836219976.png" border="0" alt="Buch: Visual C# 2012" title="Buch: Visual C# 2012"></a></dt>
                                                   <dd><br><a href="http://www.galileo-press.de/3243/?GPP=opvcs"><span class="autor"><strong>Visual C# 2012</strong><br><pressinfo><strong>Galileo Computing</strong><br>1402 S., 6., aktualisierte und erweiterte Auflage 2013, geb., mit DVD<br>49,90 Euro, ISBN 978-3-8362-1997-6
                                                            </pressinfo></span></a></dd>
                                                </dl>
                                             </td>
                                             <td width="80%">
                                                <table border="0">
                                                   <tbody>
                                                      <tr>
                                                         <td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline" colspan="3" class="kap"><strong><a href="1997_25_001.html#dodtp5c4c4699-998d-48a0-b449-ac86d57d6ddb" class="navnav">25 Weitere Möglichkeiten der Datenbindung</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline" colspan="2"><strong><a href="1997_25_001.html#dodtpfe09a8fa-2ce5-4e13-a36c-972c0b9a1a30" class="navnav">25.1 »ItemsControl«-Steuerelemente anpassen</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_001.html#dodtp65f95b39-e72b-42ac-bdf4-91fd722e9df7" class="navnav">25.1.1 Den Style eines »ListBoxItem«-Elements ändern</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_001.html#dodtp6c4f2963-1f83-404e-a4b6-0b5645ed3f9f" class="navnav">25.1.2 DataTemplates festlegen</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_001.html#dodtp06d4a3b1-d2b1-485a-8576-4c4f142f9d89" class="navnav">25.1.3 »DataTemplates« mit Trigger</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline" colspan="2"><strong><a href="1997_25_002.html#dodtp409386ff-d5f8-4dc4-bff5-a17bfc16f08d" class="navnav">25.2 Alternative Datenbindungen</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_002.html#dodtp33ede21a-a74f-4ef7-9c31-e3a52a1cef41" class="navnav">25.2.1 Die Klasse »ObjectDataProvider«</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline" colspan="2"><strong><a href="1997_25_003.html#dodtp75f1edad-591e-4724-89ff-aa996650d8da" class="navh">25.3 Navigieren, Filtern, Sortieren und Gruppieren</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_003.html#dodtpda730051-19c2-4201-b137-d64b252b32a2" class="navh">25.3.1 Navigieren</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_003.html#dodtpc4a9412c-9dcd-4f96-a48c-8808dfa46b80" class="navh">25.3.2 Sortieren</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_003.html#dodtp05f72293-b8c5-4e9d-9fae-5cce47343c44" class="navh">25.3.3 Filtern</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_003.html#dodtp55b4f33f-eb65-472e-9a99-654132c779f6" class="navh">25.3.4 Gruppieren</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline" colspan="2"><strong><a href="1997_25_004.html#dodtp44e6d440-b07b-45e7-9771-ecae101c7787" class="navnav">25.4 Das Steuerelement »DataGrid«</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_004.html#dodtpc9d8d9c0-7797-4614-8873-9b1a72f5e6ac" class="navnav">25.4.1 Elementare Eigenschaften des »DataGrid«</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_004.html#dodtp9985d6e1-6986-4735-a519-8f63f1727a97" class="navnav">25.4.2 Spalten definieren</a></strong></td>
                                                      </tr>
                                                      <tr>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"></td>
                                                         <td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
                                                         <td valign="baseline"><strong><a href="1997_25_004.html#dodtpd61f96e5-620b-4557-b378-0944e28e9cff" class="navnav">25.4.3 Details einer Zeile anzeigen</a></strong></td>
                                                      </tr>
                                                   </tbody>
                                                </table>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                    <table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
                                       <tbody>
                                          <tr>
                                             <td>
                                                <div class="main"><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp75f1edad-591e-4724-89ff-aa996650d8da" name="dodtp75f1edad-591e-4724-89ff-aa996650d8da"></a><h2 class="t2"><span class="cfett">25.3    </span><span class="cfett"> Navigieren, Filtern, Sortieren und Gruppieren</span><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtpda730051-19c2-4201-b137-d64b252b32a2"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></img></a></h2>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Neben der reinen Datendarstellung spielen oft auch andere Aspekte eine wichtige Rolle.
                                                      Beispielsweise wollen die Anwender nicht alle Daten sehen, sondern diese nach gewissen
                                                      Kriterien filtern. Oder die Anwender möchten die Daten sortieren und zwischen den
                                                      Daten wahlfrei navigieren können. Das alles mit der WPF umzusetzen ist nicht besonders
                                                      schwierig, weil die wichtigsten Komponenten dazu von der WPF bereitgestellt werden.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Binden Sie eine Auflistung von Daten an ein WPF-Steuerelement, binden Sie im Grunde
                                                      genommen nicht direkt an die Daten. Stattdessen erzeugt die WPF einen View auf die
                                                      Collection, die wie ein Wrapper agiert. Der automatisch erstellte View vom Typ <span class="clisting">CollectionView</span> implementiert das Interface <span class="clisting">ICollectionView</span>. Von <span class="clisting">CollectionView</span> gibt es drei verschiedene Ableitungen: 
                                                   </p>
                                                   <ul xmlns="http://www.w3.org/1999/xhtml">
                                                      <li class="pgp"><span class="clisting">ItemCollection</span></li>
                                                      <li class="pgp"><span class="clisting">ListCollectionView</span></li>
                                                      <li class="pgp"><span class="clisting">BindingListCollectionView</span> 
                                                      </li>
                                                   </ul>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Je nachdem, um welche Art von Liste der Wrapper gelegt wird, wird ein passender View
                                                      erzeugt. Der folgenden Tabelle können Sie Details dazu entnehmen.
                                                   </p>
                                                   <table width="100%" border="0" cellspacing="1" cellpadding="3">
                                                      <caption class="tabunter">
                                                         <p class="ptabellenunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Tabelle 25.2  </span>Klassen, die das Interface »ICollectionView« implementieren
                                                         </p>
                                                      </caption>
                                                      <tbody>
                                                         
                                                         
                                                         <tr xmlns="http://www.w3.org/1999/xhtml">
                                                            
                                                            
                                                            <td class="tabellenkopf">
                                                               
                                                               
                                                               
                                                               Klasse
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                            <td class="tabellenkopf">Beschreibung
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                         </tr>
                                                         
                                                         
                                                         
                                                         
                                                         <tr xmlns="http://www.w3.org/1999/xhtml">
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext"><span class="clisting">ItemCollection</span><span class="clisting"><a class="indexterm" id="dodtp33dcce5a-0981-4b25-9fad-d480698e81bb"></a></span></p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext">Diese Klasse wird nur von den Steuerelementen verwendet, die von <span class="clisting">ItemsControl</span> abgeleitet sind. Diese Klasse ist ohne Konstruktor und wird von den Steuerelementen
                                                                  intern verwendet. Die Eigenschaft <span class="clisting">Items</span> ist vom Typ <span class="clisting">ItemCollection.</span></p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                         </tr>
                                                         
                                                         
                                                         <tr xmlns="http://www.w3.org/1999/xhtml">
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext"><span class="clisting">CollectionView</span><span class="clisting"><a class="indexterm" id="dodtpe2baa641-b41a-4f7c-a003-5d4557a298ba"></a></span></p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext">Dieser View ist für einfache Auflistungen gedacht, die das Interface <span class="clisting">IEnumerable</span> implementieren.
                                                               </p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                         </tr>
                                                         
                                                         
                                                         <tr xmlns="http://www.w3.org/1999/xhtml">
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext"><span class="clisting">ListCollectionView</span><span class="clisting"><a class="indexterm" id="dodtp3d44eff0-c4fe-4b0f-b36c-f3efb3c281b8"></a></span></p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext">Mit diesem View werden die Auflistungen gekapselt, die das Interface <span class="clisting">IList</span> implementieren.
                                                               </p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                         </tr>
                                                         
                                                         
                                                         <tr xmlns="http://www.w3.org/1999/xhtml">
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext"><span class="clisting">BindingListCollectionView</span><span class="clisting"><a class="indexterm" id="dodtp364acd5b-9326-474b-aa07-16e1e5e5ba62"></a></span></p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                            <td class="tabellenzelle">
                                                               <p class="tabellentext">Mit diesem View werden die Auflistungen gekapselt, die das Interface <span class="clisting">IBindingList</span> oder <span class="clisting">IBindingListView</span> implementieren. Ein typischer Vertreter ist die Klasse <span class="clisting">System.Data.DataView</span>.
                                                               </p>
                                                               
                                                               
                                                            </td>
                                                            
                                                            
                                                         </tr>
                                                         
                                                         
                                                      </tbody>
                                                   </table>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Ein <span class="clisting">CollectionView</span> hat neben dem Sortieren, Filtern und Gruppieren einer Liste auch noch eine andere
                                                      wichtige Aufgabe: Er verfolgt das aktuell in einem <span class="clisting">ItemsControl</span> ausgewählte Item. Da sich mehrere Steuerelemente an denselben View binden können,
                                                      werden neu ausgewählte Listeneinträge automatisch mit den Inhalten der Steuerelemente
                                                      synchronisiert, die denselben View binden.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="kasten">
                                                      <p class="pbstandard">Interessant ist auch die Tatsache, dass die drei Klassen <span class="clisting">ItemCollection</span>, <span class="clisting">ListCollectionView</span> und <span class="clisting">BindingListCollectionView</span> die Schnittstelle <span class="clisting">IEditableCollectionView</span> implementieren. Über dieses Interface werden den Views Methoden wie beispielsweise
                                                         <span class="clisting">AddNew</span>, <span class="clisting">Remove</span>, <span class="clisting">RemoveAt</span> oder auch <span class="clisting">CancelEdit</span> verfügbar gemacht.
                                                      </p>
                                                   </div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Die durch die WPF automatisch implizit erzeugte <span class="clisting">ICollectionView</span> wird auch als <span class="clisting">DefaultView</span> bezeichnet. Sie wird erstellt, wenn der <span class="clisting">ItemsSource</span>-Eigenschaft eines <span class="clisting">ItemsControl</span>-Elements eine Auflistung zugewiesen wird. Es sei angemerkt, dass Sie auch explizit
                                                      einen <span class="clisting">CollectionView</span> erstellen und diesen der <span class="clisting">ItemsSource</span>-Eigenschaft angeben können. Die WPF ihrerseits erzeugt dann keinen DefaultView.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Die Referenz auf den <span class="clisting">CollectionView</span> kann man auch mit Programmcode abrufen. Dazu dient die statische Methode <span class="clisting">GetDefaultView</span> der Klasse <span class="clisting">CollectionViewSource</span>. Der Methode wird als Argument die Datenquelle übergeben, z. B.:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">ICollectionView view = CollectionViewSource.GetDefaultView(liste);<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.17  </span>Die Referenz auf den DefaultView abrufen
                                                   </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpda730051-19c2-4201-b137-d64b252b32a2" name="dodtpda730051-19c2-4201-b137-d64b252b32a2"></a><h3 class="t3"><span class="cfett">25.3.1    </span><span class="cfett"> Navigieren</span><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtpc4a9412c-9dcd-4f96-a48c-8808dfa46b80"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></img></a><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtp75f1edad-591e-4724-89ff-aa996650d8da"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></img></a></h3>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Haben Sie eine Collection von Datenobjekten an ein Fenster gebunden und beabsichtigen
                                                      Sie, nur die jeweiligen Eigenschaftswerte eines Datenobjekts in <span class="clisting">ContentControls</span> anzuzeigen, müssen Sie eine Navigation zu den anderen Datenobjekten ermöglichen.
                                                      Umgesetzt wird so etwas in der Regel mit Navigationsschaltflächen, die eine Navigation
                                                      zum nächsten Listenelement und zurück zum vorherigen ermöglichen. Üblicherweise wird
                                                      meist auch die Navigation zum ersten und zum letzten Datenobjekt in der Liste bereitgestellt.
                                                      
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Über die Schnittstelle <span class="clisting">ICollectionView</span> werden zur Umsetzung dieser Anforderungen zahlreiche Methoden angeboten. Dazu gehören:
                                                   </p>
                                                   <ul xmlns="http://www.w3.org/1999/xhtml">
                                                      <li class="pgp"><span class="clisting">MoveCurrentToFirst</span><span class="clisting"><a class="indexterm" id="dodtp1bf96a2d-4945-4611-b383-31758e7f84eb"></a></span></li>
                                                      <li class="pgp"><span class="clisting">MoveCurrentToLast</span><span class="clisting"><a class="indexterm" id="dodtp0842f8d4-6603-4ef3-ad5e-bb6c29de654a"></a></span></li>
                                                      <li class="pgp"><span class="clisting">MoveCurrentToNext</span><span class="clisting"><a class="indexterm" id="dodtpc780bdc9-cf74-42ab-ab84-33ecabf54f91"></a></span></li>
                                                      <li class="pgp"><span class="clisting">MoveCurrentToPrevious</span><span class="clisting"><a class="indexterm" id="dodtp862a9f5f-57c8-4f48-b7a1-8f87e21324ad"></a></span></li>
                                                      <li class="pgp"><span class="clisting">MoveCurrentToPosition</span><span class="clisting"><a class="indexterm" id="dodtp0ba9a351-93d3-4c67-8243-edf87c890da6"></a></span></li>
                                                   </ul>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">In Abbildung 25.4 ist das nächste Beispielprogramm dargestellt, in dem einige wichtige
                                                      Methoden der Navigation verwendet werden.
                                                   </p>
                                                   <p><a href="bilder/25_04.png" rel="lightbox" title="Ausgabe des Beispielprogramms »NavigationSample«"><img class="bild" border="1" src="bilderklein/klein25_04.png" alt="Abbildung"></a></p>
                                                   <p class="pbildunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Abbildung 25.4  </span>Ausgabe des Beispielprogramms »NavigationSample«
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Grundlage des Beispiels ist eine ADO.NET-Datenbankabfrage der Datenbank <span class="ckursiv">Northwind</span>. Es wird dabei die Tabelle <span class="ckursiv">Products</span> abgefragt. Wenn Sie den Code der ADO.NET-Abfrage nicht verstehen, ist das nicht entscheidend
                                                      zum Verständnis des Beispiels. 
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">In einer <span class="clisting">ListBox</span> werden alle Artikel aus der Tabelle mit ihrem Artikelbezeichner (Spalte <span class="ckursiv">ProductName</span>) angezeigt. Wird zur Laufzeit ein neuer Eintrag ausgewählt, werden im rechten Teilbereich
                                                      des Fensters einige Detailinformationen zum ausgewählten Artikel in Textboxen angezeigt.
                                                      Die Navigation zum nächsten oder zum vorherigen Datensatz wird mit Hilfe von zwei
                                                      Schaltflächen im oberen Bereich des Fensters unterstützt. Darüber hinaus wird die
                                                      Position des aktuell ausgewählten Datensatzes nebst der Gesamtanzahl eingespielt.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Sehen wir uns zunächst den C#-Programmcode in der Code-Behind-Datei des Fensters an.</p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\NavigationSample</span><br></br>public partial class MainWindow : Window<br xmlns="">{<br xmlns="">  private BindingListCollectionView view;<br></br>  public MainWindow() {<br></br>    // Tabelle aus der Datenbank abrufen<br></br>    SqlConnection con = new SqlConnection();<br xmlns="">    con.ConnectionString = @"Server=.\SQLEXPRESS;Database=Northwind; " +  <br xmlns="">                            "Integrated Security=SSPI";<br xmlns="">    DataSet ds = new DataSet();<br xmlns="">    SqlDataAdapter da = new SqlDataAdapter("SELECT * FROM Products", con);<br xmlns="">    da.Fill(ds);         <br xmlns="">    InitializeComponent();  <br xmlns="">    this.DataContext = ds.Tables[0];<br xmlns="">    view = (BindingListCollectionView)CollectionViewSource.<br xmlns="">                                       GetDefaultView(this.DataContext);<br xmlns="">    view.CurrentChanged += view_CurrentChanged;<br xmlns="">  }<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.18  </span>Vorläufiger Programmcode in der Code-Behind-Datei
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Es ist auf Klassenebene ein Feld vom Typ <span class="clisting">BindingListCollectionView</span> deklariert, das im Konstruktor initialisiert wird. Die Entscheidung für diesen Typ
                                                      hängt damit zusammen, dass wir später ein <span class="clisting">DataSet</span> mit der Tabelle der Produkte vorliegen haben, die wir in einen <span class="clisting">DataView</span> umwandeln müssen. Gemäß Tabelle 25.1 kommt daher nur der <span class="clisting">BindingListCollectionView</span> als View-Objekt in Frage.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Nach der Datenbankabfrage und dem Aufruf der Methode <span class="clisting">InitializeComponent</span> wird die Tabelle an den Datenkontext des <span class="clisting">Window</span> gebunden. Anschließend wird die <span class="clisting">BindingListCollectionView</span>-Variable wie oben beschrieben initialisiert.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Die Klasse <span class="clisting">CollectionView</span> vererbt ihren Ableitungen neben Eigenschaften und Methoden auch einige Ereignisse.
                                                      Eines davon ist <span class="clisting">CurrentChanged</span>, das ausgelöst wird, wenn sich das aktuell ausgewählte Element im View geändert hat.
                                                      Wir binden an das Ereignis einen Ereignishandler, um die aktuelle Position innerhalb
                                                      der Liste anzuzeigen.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Widmen wir uns nun der <span class="clisting">ListBox</span>. Hier zunächst der XAML-Code, um die Bindung an die Datenquelle zu verstehen:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">&lt;ListBox Name="lstProducts" <br xmlns="">         DisplayMemberPath="ProductName" <br xmlns="">         ItemsSource="{Binding}" <br xmlns="">         SelectionChanged="lstProducts_SelectionChanged" /&gt;<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.19  </span>Datenbindung der ListBox
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Mit der Eigenschaft <span class="clisting">ItemsSource</span> wird auf die Bindung des <span class="clisting">Window</span> zurückgegriffen, und mit <span class="clisting">DisplayMemberPath</span> wird die Spalte angegeben, die in der <span class="clisting">ListBox</span> angezeigt werden soll. Es wird zudem das Ereignis <span class="clisting">SelectionChanged</span> behandelt, da wir den View davon in Kenntnis setzen müssen, dass sich die ausgewählte
                                                      Datenzeile geändert hat. Hier auch dazu sofort der Ereignishandler:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">private void lstProducts_SelectionChanged(object sender, <br xmlns="">                                          SelectionChangedEventArgs e){<br xmlns="">  view.MoveCurrentTo(lstProducts.SelectedItem);<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.20  </span>Festlegung des neuen aktuellen Elements
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Einfach zu verstehen sind die beiden Ereignishandler der Schaltflächen zur Navigation
                                                      zum nächsten oder vorherigen Artikel im View.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">private void cmdNext_Click(object sender, RoutedEventArgs e) {<br xmlns="">  view.MoveCurrentToNext();  <br xmlns="">}<br></br>private void cmdPrevious_Click(object sender, RoutedEventArgs e) {<br xmlns="">  view.MoveCurrentToPrevious();<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.21  </span>Ereignishandler der Navigationsschaltflächen
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Jetzt fehlt nur noch der Ereignishandler des Events <span class="clisting">CurrentChanged</span>. 
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">void view_CurrentChanged(object sender, EventArgs e) {<br xmlns="">  txtPosition.Text = "Datensatz " + (view.CurrentPosition + 1).ToString() + <br xmlns="">                     " von " + view.Count.ToString();<br xmlns="">  cmdPrevious.IsEnabled = view.CurrentPosition &gt; 0;<br xmlns="">  cmdNext.IsEnabled = view.CurrentPosition &lt; view.Count - 1; <br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.22  </span>Der Ereignishandler des Ereignisses »CurrentChanged«
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Der View liefert in der Eigenschaft <span class="clisting">CurrentPosition</span> die Indexposition des aktuellen Elements der Liste. Da diese Eigenschaft die Ordinalposition
                                                      liefert, müssen wir das durch die Addition der Zahl 1 zur Ausgabe der Position des
                                                      Listenelements berücksichtigen. Zudem nutzen wir <span class="clisting">CurrentPosition</span> auch dazu aus, im Bedarfsfall eine der beiden Navigationsschaltflächen zu deaktivieren,
                                                      falls der erste oder der letzte Datensatz aus der Liste das aktuell ausgewählte Element
                                                      ist.
                                                   </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtpc4a9412c-9dcd-4f96-a48c-8808dfa46b80" name="dodtpc4a9412c-9dcd-4f96-a48c-8808dfa46b80"></a><h3 class="t3"><span class="cfett">25.3.2    </span><span class="cfett"> Sortieren</span><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtp05f72293-b8c5-4e9d-9fae-5cce47343c44"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></img></a><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtpda730051-19c2-4201-b137-d64b252b32a2"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></img></a></h3>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Die Sortierung nach einer Eigenschaft der durch einen View beschriebenen Elemente
                                                      ist nicht schwierig. Dazu stellt die Schnittstelle <span class="clisting">ICollectionView</span> den implementierenden Klassen mit <span class="clisting">SortDescriptions</span><span class="clisting"><a class="indexterm" id="dodtpe6ccd607-bfce-4e6a-8e8d-09772167fc14"></a></span> eine passende Eigenschaft bereit, der das gewünschte Sortierkriterium angegeben wird.
                                                      Da diese Eigenschaft eine Liste beschreibt, können Sie auch mehrere Sortierkriterien
                                                      angeben.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Jedes Sortierkriterium wird durch ein Objekt vom Typ <span class="clisting">SortDescription</span><span class="clisting"><a class="indexterm" id="dodtpbfe210d9-8f62-426c-9744-8a754b176664"></a></span> beschrieben. Um ein Sortierkriterium zu definieren, übergeben Sie dem Konstruktor
                                                      zwei Argumente. Im ersten Argument wird die Eigenschaft genannt, nach der die Liste
                                                      sortiert werden soll. Das zweite Argument beschreibt die Richtung der Sortierung mit
                                                      der Enumeration <span class="clisting">ListSortDirection</span>, die die beiden Member <span class="clisting">Ascending</span> (für eine aufsteigende Reihenfolge) und <span class="clisting">Descending</span> (für eine absteigende Reihenfolge) enthält.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Um Ihnen zu zeigen, wie Sie eine Sortierung umsetzen können, greifen wir auf das Beispielprogramm
                                                      <span class="ckursiv">NavigationSample</span> des letzten Abschnitts zurück und wollen die Produkte, die in der <span class="clisting">ListBox</span> angezeigt werden, dem Artikelnamen nach sortieren. Den erforderlichen Programmcode
                                                      können wir grundsätzlich in jedem passenden Ereignishandler implementieren, in unserem
                                                      Beispiel bietet sich aber der Konstruktor bestens an.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\ViewSortSample</span><br></br>public MainWindow()<br xmlns="">{<br xmlns="">  [...]<br xmlns="">  this.DataContext = ds.Tables[0];<br xmlns="">  view = (BindingListCollectionView)CollectionViewSource.<br xmlns="">                              GetDefaultView(this.DataContext);<br xmlns="">  view.CurrentChanged += view_CurrentChanged;   <br xmlns="">  SortDescription sort = new SortDescription("ProductName", <br xmlns="">                             ListSortDirection.Ascending);<br xmlns="">  view.SortDescriptions.Add(sort);<br xmlns="">  lstProducts.SelectedIndex = 0;<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.23  </span> Sortieren eines Views
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Zur Umsetzung mehrerer Sortierkriterien werden mehrere <span class="clisting">SortDescription</span>-Objekte benötigt, die nacheinander abgearbeitet werden. So ließe sich die Produktliste
                                                      zuerst nach Kategorien sortieren (Eigenschaft <span class="clisting">CategoryID</span>) und danach innerhalb der Kategorien nach dem Preis (Eigenschaft <span class="clisting">UnitPrice</span>). 
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">[...]<br xmlns="">SortDescription sortCat = new SortDescription("CategoryID", <br xmlns="">                              ListSortDirection.Ascending);<br xmlns="">SortDescription sortPrice = new SortDescription("Unitprice", <br xmlns="">                                ListSortDirection.Ascending);<br xmlns="">view.SortDescriptions.Add(sortCat);<br xmlns="">view.SortDescriptions.Add(sortPrice);<br xmlns="">[...]<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.24  </span>Mehrere Sortierkriterien 
                                                   </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp05f72293-b8c5-4e9d-9fae-5cce47343c44" name="dodtp05f72293-b8c5-4e9d-9fae-5cce47343c44"></a><h3 class="t3"><span class="cfett">25.3.3    </span><span class="cfett"> Filtern</span><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtp55b4f33f-eb65-472e-9a99-654132c779f6"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></img></a><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtpc4a9412c-9dcd-4f96-a48c-8808dfa46b80"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></img></a></h3>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das Filtern ermöglicht uns, aus einer Liste nur diejenigen Elemente anzuzeigen, die
                                                      einer bestimmten Bedingung genügen. Hinsichtlich des Filterns eines Views müssen wir
                                                      jedoch zwei Fälle unterscheiden: das Filtern einer herkömmlichen Collection und das
                                                      Filtern einer ADO.NET-<span class="clisting">DataTable</span>. Wir wollen uns beide Varianten ansehen.
                                                   </p>
                                                   <h4 class="t4"> Das Filtern einer Collection</h4>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das Filtern einer Collection erfolgt mit der Eigenschaft <span class="clisting">Filter</span> des Views. Am besten sehen wir uns zuerst die Definition der <span class="clisting">Filter</span>-Eigenschaft an:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">public virtual Predicate&lt;Object&gt; Filter { get; set;}<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Die Eigenschaft erwartet einen Delegaten vom Typ <span class="clisting">Predicate</span>, der auf eine Filtermethode zeigt, die Sie bereitstellen müssen. Auch die Definition
                                                      des Delegates müssen wir uns ansehen, um den Filter zu verstehen:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">public delegate bool Predicate&lt;Object<a class="indexterm" id="dodtp27214485-a26c-4ced-b87a-faf9022a7edd"></a>&gt;(Object item)<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Der Rückgabewert ist <span class="clisting">bool</span>. Innerhalb der Filtermethode wird jedes Listenelement aufgerufen und dahingehend
                                                      einer Prüfung unterzogen, ob es den Bedingungen entspricht oder nicht. Im ersten Fall
                                                      muss die Filtermethode <span class="clisting">true</span> zurückliefern. Um beispielsweise aus einer Auflistung von <span class="clisting">Person</span>-Objekten, in denen die Eigenschaften <span class="clisting">Name</span>, <span class="clisting">Alter</span> und <span class="clisting">Ort</span> beschrieben werden, alle Personen herauszufiltern, die in einer bestimmten Stadt
                                                      wohnen, könnte der Code wie folgt aussehen:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\CollectionFilterSample</span><br></br>public partial class MainWindow : Window {<br></br>  private List&lt;Person&gt; liste = new List&lt;Person&gt;();<br></br><span class="clistingfett">  public MainWindow() </span>{<br xmlns="">    FillListe();<br xmlns="">    InitializeComponent();<br xmlns="">    lstPersons.ItemsSource = liste;<br xmlns="">    ListCollectionView view = CollectionViewSource.GetDefaultView(<br xmlns="">                              lstPersons.ItemsSource) as ListCollectionView;<br xmlns="">    view.Filter = new Predicate&lt;object&gt;(FilterPersons);<br xmlns="">  }<br></br>  public bool FilterPersons(object item) {<br xmlns="">    Person pers = (Person)item;<br xmlns="">    return (pers.Ort == "Essen");<br xmlns="">  }<br></br><span class="clistingfett">  private void FillListe() </span>{<br xmlns="">    liste.Add(new Person { Name = "Müller", Alter=43, Ort = "Duisburg" });<br xmlns="">    liste.Add(new Person { Name = "Meier", Alter=43, Ort = "Bonn" });<br xmlns="">    liste.Add(new Person { Name = "Schmidt", Alter=43, Ort = "Essen" });<br xmlns="">    [...]<br xmlns="">  }<br xmlns="">}<br></br><span class="clistingfett">class Person</span> {<br xmlns="">  public string Name { get; set; }<br xmlns="">  public int Alter { get; set; }<br xmlns="">  public string Ort { get; set; }<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.25  </span>Festlegen eines Filters
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Der XAML-Code zum Testen des hardcodierten Filters ist denkbar einfach:</p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">&lt;Window ...<br xmlns="">        Title="MainWindow" Height="150" Width="150"&gt;<br xmlns="">  &lt;Grid&gt;<br xmlns="">    &lt;ListBox Name="lstPersons" DisplayMemberPath="Name"&gt;&lt;/ListBox&gt;<br xmlns="">  &lt;/Grid&gt;<br xmlns="">&lt;/Window&gt;<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.26  </span>XAML-Code des Beispiels »CollectionFilterSample«
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Auch wenn dieses Beispiel sehr gut funktioniert, hat es einen gravierenden Nachteil.
                                                      Es ist hinsichtlich der Filterbedingung unflexibel, da ein Benutzer nicht in der Lage
                                                      ist, das Filterkriterium zur Laufzeit der Anwendung dynamisch festzulegen.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das wollen wir natürlich anders gestalten und bedienen uns dazu eines simplen Tricks.
                                                      Wir implementieren die Filtermethode in einer separaten Klasse. Innerhalb der Klasse
                                                      legen wir eine Eigenschaft fest, die die Filterbedingung beschreibt. Bevor der Filter
                                                      gesetzt wird, muss die Klasse instanziiert werden und ihr dabei die Bedingung übergeben
                                                      werden. Dazu eignet sich der Konstruktor. Innerhalb der Filtermethode wird die Bedingung
                                                      beim Setzen des Filters ausgewertet.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\CollectionDynamicFilterSample</span><br></br><span class="clistingfett">class FilterPersonByCity</span> {<br xmlns="">  public string Ort { get; set; }<br></br>  public FilterPersonByCity(string city) {<br xmlns="">    Ort = city;<br xmlns="">  }<br></br>  <span class="clistingfett">public bool FilterPersons(object item)</span> {<br xmlns="">    Person pers = (Person)item;<br xmlns="">    return (pers.Ort == Ort);<br xmlns="">  }<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.27  </span>Wrapper-Klasse um die Filtermethode
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Diese Klasse wollen wir nun testen und ergänzen das Fenster des Beispiels <span class="ckursiv">CollectionFilterSample</span> um eine <span class="clisting">TextBox</span> und eine Schaltfläche. Der Anwender kann eine Stadt in die <span class="clisting">TextBox</span> eintragen. Beim Klicken auf die Schaltfläche wird der Filter entsprechend neu gesetzt
                                                      und aktiviert, und in der <span class="clisting">ListBox</span> werden alle Personen angezeigt, die der Bedingung entsprechen. Bleibt die <span class="clisting">TextBox</span> leer, wird der Filter durch Setzen auf <span class="clisting">null</span> gelöscht.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">public partial class MainWindow : Window</span> {<br xmlns="">  private List&lt;Person&gt; liste = new List&lt;Person&gt;();<br xmlns="">  private ListCollectionView view;<br></br>  <span class="clistingfett">public MainWindow() </span>{<br xmlns="">    FillListe();<br xmlns="">    InitializeComponent();<br xmlns="">    lstPersons.ItemsSource = liste;<br xmlns="">    view = CollectionViewSource.GetDefaultView<br xmlns="">           (lstPersons.ItemsSource) as ListCollectionView;<br xmlns="">  }<br></br>  <span class="clistingfett">private void btnSetFilter_Click(object sender, RoutedEventArgs e)</span> {<br xmlns="">    FilterPersonByCity filter = new FilterPersonByCity(txtCity.Text);<br xmlns="">    if (txtCity.Text == "") <br xmlns="">      view.Filter = null;<br xmlns="">    else <br xmlns="">      view.Filter = new Predicate&lt;object&gt;(filter.FilterPersons);<br xmlns="">  }<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.28  </span>Änderungen und Ergänzungen im Code des »Window«
                                                   </p>
                                                   <h4 class="t4"> Filtern einer »DataTable«</h4>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das Filtern eines Views vom Typ <span class="clisting">ListCollectionView</span> ist mit der Eigenschaft <span class="clisting">Filter</span> möglich. Auch die Klasse <span class="clisting">BindingListCollectionView</span>, die im Zusammenhang mit einer ADO.NET-<span class="clisting">DataTable</span> verwendet wird, stellt eine <span class="clisting">Filter</span>-Eigenschaft zur Verfügung. Allerdings nur offiziell, denn diese Eigenschaft wird
                                                      von <span class="clisting">BindingListCollectionView</span> nicht weiter unterstützt und wirft eine Ausnahme, wenn man dennoch versucht, sie
                                                      zu benutzen. 
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Stattdessen wird von <span class="clisting">BindingListCollectionView</span> die Eigenschaft <span class="clisting">CustomFilter</span> unterstützt. Diese Eigenschaft erwartet den Filter in Form einer Zeichenfolge. Das
                                                      macht den Einsatz sehr einfach, da die Zeichenfolge entsprechend der aus SQL bekannten
                                                      Filterbedingung als WHERE-Klausel formuliert wird. 
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das folgende Beispielprogramm nutzt erneut die Tabelle <span class="ckursiv">Products</span> der <span class="ckursiv">Northwind</span>-Datenbank. Der Filter wird in einer <span class="clisting">TextBox</span> festgelegt und durch Klicken auf eine Schaltfläche aktiviert.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\DataTableFilterSample</span><br></br>&lt;Window ...<br xmlns="">        Title="DataTableFilter" Height="250" Width="550"&gt;<br xmlns="">  &lt;Grid&gt;<br xmlns="">    &lt;Grid.ColumnDefinitions&gt;<br xmlns="">      &lt;ColumnDefinition Width="250" /&gt;<br xmlns="">      &lt;ColumnDefinition /&gt;<br xmlns="">    &lt;/Grid.ColumnDefinitions&gt;<br xmlns="">    &lt;ListBox Name="lstProducts" DisplayMemberPath="ProductName" <br xmlns="">             Margin="10"&gt;&lt;/ListBox&gt;<br xmlns="">    &lt;StackPanel Grid.Column="1"&gt;<br xmlns="">      &lt;Grid&gt;<br xmlns="">        &lt;Grid.ColumnDefinitions&gt;<br xmlns="">          &lt;ColumnDefinition Width="60"/&gt;<br xmlns="">          &lt;ColumnDefinition/&gt;<br xmlns="">        &lt;/Grid.ColumnDefinitions&gt;<br xmlns="">        &lt;TextBlock HorizontalAlignment="Left" VerticalAlignment="Center" <br xmlns="">                   Foreground="Wheat" Text="UnitPrice &gt; " /&gt;<br xmlns="">        &lt;TextBox Grid.Column="1" Name="txtUnitPrice" Margin="5" <br xmlns="">                 Background="AntiqueWhite"&gt;&lt;/TextBox&gt; <br xmlns="">      &lt;/Grid&gt;<br xmlns="">      &lt;Button Name="btnSetFilter" Margin="5" Click="btnSetFilter_Click"&gt;<br xmlns="">         Filter setzen<br xmlns="">      &lt;/Button&gt;<br xmlns="">    &lt;/StackPanel&gt;<br xmlns="">  &lt;/Grid&gt;<br xmlns="">&lt;/Window&gt;<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Dazu gehört der folgende C#-Code:</p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">public partial class MainWindow : Window</span> {<br xmlns="">  private BindingListCollectionView view;<br></br>  <span class="clistingfett">public MainWindow()</span> {<br xmlns="">    [...]            <br xmlns="">    da.Fill(ds);<br xmlns="">    InitializeComponent();<br xmlns="">    lstProducts.ItemsSource = ds.Tables[0].DefaultView;<br xmlns="">    view = (BindingListCollectionView)CollectionViewSource.<br xmlns="">           GetDefaultView(lstProducts.ItemsSource);<br xmlns="">  }<span class="clistingfett"><br xmlns="">  private void btnSetFilter_Click</span>(object sender, RoutedEventArgs e) {<br xmlns="">    view.CustomFilter = "UnitPrice &gt; " + txtUnitPrice.Text;<br xmlns="">  }<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.29  </span>Code des Beispielprogramms »DataTableFilterSample«
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Sie können in der <span class="clisting">TextBox</span> auch eine Filterbedingung festlegen, die mehrere Filterbedingungen mit AND oder OR
                                                      verknüpft. Das sollte auch nicht erstaunen, da der Filter gemäß den Regeln der SQL-WHERE-Klausel
                                                      formuliert wird (siehe Abbildung 25.5).
                                                   </p>
                                                   <p><a href="bilder/25_05.png" rel="lightbox" title="Das Beispielprogramm mit mehreren Filtern"><img class="bild" border="1" src="bilderklein/klein25_05.png" alt="Abbildung"></a></p>
                                                   <p class="pbildunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Abbildung 25.5  </span>Das Beispielprogramm mit mehreren Filtern
                                                   </p><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a id="dodtp55b4f33f-eb65-472e-9a99-654132c779f6" name="dodtp55b4f33f-eb65-472e-9a99-654132c779f6"></a><h3 class="t3"><span class="cfett">25.3.4    </span><span class="cfett"> Gruppieren</span><a xmlns="http://www.w3.org/1999/xhtml" href="#"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></img></a><a xmlns="http://www.w3.org/1999/xhtml" href="#dodtp33d617a9-75d2-4b4a-8062-f97bdbb59dd8"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></img></a></h3>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das Gruppieren der angezeigten Daten erfolgt ebenfalls über ein View-Objekt. Um präziser
                                                      zu sein, die Schnittstelle <span class="clisting">ICollectionView</span> stellt dafür allen Ableitungen die Eigenschaft <span class="clisting">GroupDescriptions</span> zur Verfügung, die vom Typ <span class="clisting">ObservableCollection&lt;GroupDescription&gt;</span> ist. Da die Klasse <span class="clisting">GroupDescription</span> ihrerseits selbst abstrakt definiert ist, gibt es mit <span class="clisting">PropertyGroupDescription</span><span class="clisting"><a class="indexterm" id="dodtpa1302e0a-7d63-40c4-8d5c-49d830b9710f"></a></span> eine spezialisierte Klasse, die minimal eine Zeichenfolge entgegennimmt, die die
                                                      Eigenschaft angibt, nach der gruppiert werden soll, z. B.:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">view.GroupDescriptions.Add(new PropertyGroupDescription("CategoryID"));<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">In dieser Anweisung wird die Tabelle <span class="ckursiv">Products</span> nach der <span class="ckursiv">CategoryID</span> gruppiert.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Um die Gruppierung anzeigen zu können, vererbt die Klasse <span class="clisting">ItemsControl</span> allen Ableitungen die Eigenschaft <span class="clisting">GroupStyle</span>. Auch diese Eigenschaft beschreibt eine Collection, diesmal vom Typ <span class="clisting">ObservableCollection&lt;GroupStyle&gt;</span>. Die <span class="clisting">GroupStyle</span>-Klasse verfügt über die Eigenschaft <span class="clisting">HeaderTemplate</span>, mit der die Darstellung der Kopfzeile einer Gruppe als <span class="clisting">DataTemplate</span> beschrieben wird.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Angenommen, wir würden beabsichtigen, die in der Tabelle <span class="ckursiv">Products</span> enthaltenen Artikel der Kategorie nach zu gruppieren und in einer <span class="clisting">ListBox</span> anzuzeigen. 
                                                   </p>
                                                   <p><a href="bilder/25_06.png" rel="lightbox" title="Ausgabe des Beispielprogramms »SimpleGroupingSample«"><img class="bild" border="1" src="bilderklein/klein25_06.png" alt="Abbildung"></a></p>
                                                   <p class="pbildunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Abbildung 25.6  </span>Ausgabe des Beispielprogramms »SimpleGroupingSample«
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Der XAML-Code dazu sieht wie folgt aus:</p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\SimpleGroupingSample</span><br></br>&lt;Window ... Title="MainWindow" Height="350" Width="300"&gt;<br xmlns="">  &lt;Window.Resources&gt;<br xmlns="">    &lt;CollectionViewSource x:Key="groupView"&gt;       <br xmlns="">      &lt;CollectionViewSource.GroupDescriptions&gt;<br xmlns="">        &lt;PropertyGroupDescription PropertyName="CategoryID" /&gt;<br xmlns="">      &lt;/CollectionViewSource.GroupDescriptions&gt;<br xmlns="">    &lt;/CollectionViewSource&gt;<br xmlns="">  &lt;/Window.Resources&gt;<br></br>  &lt;Grid&gt;<br xmlns="">    &lt;Grid.RowDefinitions&gt;<br xmlns="">      &lt;RowDefinition Height="Auto"&gt;&lt;/RowDefinition&gt;<br xmlns="">      &lt;RowDefinition&gt;&lt;/RowDefinition&gt;<br xmlns="">    &lt;/Grid.RowDefinitions&gt;<br></br>    &lt;ListBox Grid.Row="1" Margin="7,3,7,10" Name="lstProducts" <br xmlns="">        ItemsSource="{Binding Source={StaticResource groupView}}" &gt;<br xmlns="">      &lt;ListBox.ItemTemplate&gt;<br xmlns="">        &lt;DataTemplate&gt;<br xmlns="">          &lt;TextBlock Text="{Binding ProductName}"/&gt;<br xmlns="">        &lt;/DataTemplate&gt;<br xmlns="">      &lt;/ListBox.ItemTemplate&gt;<br xmlns="">      &lt;ListBox.GroupStyle&gt;<br xmlns="">        &lt;GroupStyle&gt;<br xmlns="">          &lt;GroupStyle.HeaderTemplate&gt;<br xmlns="">            &lt;DataTemplate&gt;<br xmlns="">              &lt;TextBlock Text="{Binding Path=Name}" FontWeight="Bold"<br xmlns="">                         Foreground="White" Background="LightGreen" <br xmlns="">                         Margin="0,5,0,0" Padding="3"/&gt;<br xmlns="">            &lt;/DataTemplate&gt;<br xmlns="">          &lt;/GroupStyle.HeaderTemplate&gt;<br xmlns="">        &lt;/GroupStyle&gt;<br xmlns="">      &lt;/ListBox.GroupStyle&gt;<br xmlns="">    &lt;/ListBox&gt;<br xmlns="">  &lt;/Grid&gt;<br xmlns="">&lt;/Window&gt;<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Jetzt folgt natürlich auch noch der C#-Code:</p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">public MainWindow() {</span><br></br>  //  Tabelle Products in den Speicher laden<br></br>  InitializeComponent();<br xmlns="">  CollectionViewSource viewSource = <br xmlns="">       (CollectionViewSource)this.FindResource("groupView");<br xmlns="">  viewSource.Source = ds.Tables[0].DefaultView;<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.30  </span>Code des Beispielprogramms »SimpleGroupingSample«
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Im Konstruktor des <span class="clisting">Window</span> wird zuerst die Tabelle <span class="ckursiv">Products</span> mit ADO.NET-Code in den Speicher geladen und anschließend als View einem in der XAML-Datei
                                                      definierten <span class="clisting">CollectionViewSource</span>-Objekt als Datenquelle übergeben.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">In der XAML-Datei ist das <span class="clisting">CollectionViewSource</span>-Objekt im <span class="clisting">Resource</span>-Abschnitt definiert. Mit <span class="clisting">PropertyGroupDescription</span> wird die Gruppierung aller Artikel anhand der Eigenschaft <span class="ckursiv">CategoryID</span> festgelegt.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">&lt;CollectionViewSource x:Key="groupView"&gt;       <br xmlns="">  &lt;CollectionViewSource.GroupDescriptions&gt;<br xmlns="">    &lt;PropertyGroupDescription PropertyName="CategoryID" /&gt;<br xmlns="">  &lt;/CollectionViewSource.GroupDescriptions&gt;<br xmlns="">&lt;/CollectionViewSource&gt;<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.31  </span>Gruppierungseigenschaft festlegen
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Die Eigenschaft <span class="clisting">GroupStyle</span> legt den Stil der Gruppendarstellung fest. Dazu wird der Eigenschaft <span class="clisting">HeaderTemplate</span> ein <span class="clisting">DataTemplate</span> übergeben, das ein <span class="clisting">TextBlock</span>-Element enthält, das gebunden werden muss. 
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Hinsichtlich der Bindung des <span class="clisting">TextBlocks</span> muss man allerdings ein wenig in die Trickkiste greifen, um zum gewünschten Ziel
                                                      zu kommen (die <span class="ckursiv">CategoryID</span> in der Kopfzeile anzuzeigen). Sie dürfen nämlich nicht an die Eigenschaft <span class="ckursiv">CategoryID</span> binden, wie zuerst zu vermuten wäre. Stattdessen erfolgt die Bindung an die <span class="clisting">Name</span>-Eigenschaft des <span class="clisting">PropertyGroupDescription</span>-Objekts:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">&lt;TextBlock Text="{Binding Path=Name}" ... /&gt;<br></pre></div>
                                                   <h4 class="t4"> Erweiterte Gruppierung</h4>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Sehen wir uns noch einmal Abbildung 25.6 an. Die Werte der Spalte <span class="ckursiv">CategoryID</span> als Text in das <span class="clisting">HeaderTemplate</span> zu schreiben ist mit Sicherheit nicht das, was wir dem Anwender anbieten wollen.
                                                      Hier wäre der Kategoriename hinter <span class="ckursiv">CategoryID</span> wünschenswert. Dieser verbirgt sich in der Spalte <span class="ckursiv">CategoryName</span> der Tabelle <span class="ckursiv">Categories</span>, die sich in einer 1:n-Beziehung zur Tabelle <span class="ckursiv">Products</span> befindet.
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Das Problem könnte sehr einfach mit einer SQL-JOIN-Abfrage gelöst werden. Diesen Weg
                                                      möchte ich Ihnen aber nicht zeigen, weil er zu wenig Allgemeingültigkeit hat. Wir
                                                      wollen uns stattdessen den gewünschten Kategoriebezeichner direkt aus der Tabelle
                                                      <span class="ckursiv">Categories</span> besorgen und den durch <span class="ckursiv">CategoryID</span> beschriebenen Zahlenwert durch den Namen der Kategorie ersetzen. Hier bietet es sich
                                                      an, einen passenden Konverter zu schreiben, der genau diese Anforderung erfüllt.
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint"><span class="clistingfett">// Beispiel: ..\Kapitel 25\AdvancedGroupingSample</span><br></br><span class="clistingfett">public class GroupingConverter : IValueConverter</span> {<br xmlns="">  private DataSet ds = new DataSet();<br></br>  public GroupingConverter()  {<br xmlns="">    SqlConnection con = new SqlConnection();<br xmlns="">    con.ConnectionString = @"..."; <br></br>    string sql = "SELECT CategoryID, CategoryName FROM Categories";<br xmlns="">    SqlDataAdapter da = new SqlDataAdapter(sql, con);<br xmlns="">    da.FillSchema(ds, SchemaType.Source);<br xmlns="">    da.Fill(ds);        <br xmlns="">  }<br></br><span class="clistingfett">   public object Convert(object value, Type targetType, object parameter, <br xmlns="">                                                    CultureInfo culture)</span> <br xmlns="">   {<br xmlns="">     DataRow row = ds.Tables[0].Rows.Find((int)value);<br xmlns="">     return row["CategoryName"].ToString();          <br xmlns="">   }<br></br><span class="clistingfett">   public object ConvertBack(object value, Type targetType, <br xmlns="">                             object parameter, CultureInfo culture)</span><br xmlns="">   {<br xmlns="">     throw new NotImplementedException();<br xmlns="">   }<br xmlns="">}<br></pre></div>
                                                   <p class="plistingunter"><span xmlns="http://www.w3.org/1999/xhtml" class="nummerierung">Listing 25.32  </span>Die »Converter«-Klasse
                                                   </p>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Im XAML-Code geben wir nun den Namespace dieser Klasse mit</p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">xmlns:local="clr-namespace:AdvancedGroupingSample"<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">bekannt und erstellen im <span class="clisting">Resource</span>-Abschnitt des Fensters ein Objekt dieser Klasse:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">&lt;Window.Resources&gt;<br xmlns="">  &lt;local:GroupingConverter x:Key="converter" /&gt;<br xmlns="">  [...]<br xmlns="">&lt;/Window.Resources&gt;<br></pre></div>
                                                   <p xmlns="http://www.w3.org/1999/xhtml" class="pstandard">Nun folgt noch der letzte Schritt, denn dem <span class="clisting">PropertyGroupDescription</span>-Objekt muss das <span class="clisting">Converter</span>-Objekt mit der Eigenschaft <span class="clisting">Converter</span> bekannt gegeben werden:
                                                   </p>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="listing"><pre class="prettyprint">&lt;PropertyGroupDescription PropertyName="CategoryID" <br xmlns="">                          <span class="clistingfett">Converter="{StaticResource converter}"</span> /&gt;<br></pre></div>
                                                   <div xmlns="http://www.w3.org/1999/xhtml" class="kasten">
                                                      <p class="pbstandard">Das Beispiel <span class="ckursiv">SimpleGroupingSample</span> auf der Buch-DVD wurde zudem um die Sortierung ergänzt. Dabei werden zunächst alle
                                                         Kategorien sortiert, und innerhalb derselben wird nach dem Produktnamen sortiert:
                                                      </p>
                                                      <div class="listing"><pre class="prettyprint">&lt;CollectionViewSource x:Key="groupView"&gt;<br xmlns="">  [...]<br xmlns="">  &lt;CollectionViewSource.SortDescriptions&gt;<br xmlns="">    &lt;sys:SortDescription PropertyName="CategoryID"<br xmlns="">                         Direction="Ascending"/&gt;<br xmlns="">    &lt;sys:SortDescription PropertyName="ProductName"<br xmlns="">                         Direction="Ascending"/&gt;<br xmlns="">  &lt;/CollectionViewSource.SortDescriptions&gt;<br xmlns="">&lt;/CollectionViewSource&gt;<br></pre></div>
                                                      <p class="pbstandard">Da der Typ <span class="clisting">SortDescription</span> keinem XML-Namespace zugeordnet ist, müssen die Datei <span class="ckursiv">WindowsBase.dll</span> und der CLR-Namespace <span class="clisting">System.ComponentModel</span>, in dem diese Klasse definiert ist, mit
                                                      </p>
                                                      <div class="listing"><pre class="prettyprint">xmlns:sys="clr-namespace:System.ComponentModel;assembly=WindowsBase"<br></pre></div>
                                                      <p class="pbstandard">bekannt gegeben werden.</p>
                                                   </div><br><hr><a name="kommentar"></a><h3>Ihr Kommentar</h3>
                                                   <p>Wie hat Ihnen das &lt;openbook&gt; gefallen? Wir freuen uns immer über Ihre freundlichen
                                                      und kritischen Rückmeldungen.
                                                   </p>
                                                   <!--<form action="http://www.galileo-press.de/feedback/openbook" method="post" style="text-align: center; margin-top: 10px;"><input type="hidden" name="openbookurl" value="https://www.galileo-press.de/openbook/?GPP=opvcs25_003.html"><input type="hidden" name="buchtitel" value="Visual C# 2012"><input type="hidden" name="Kapitel" value="25  Weitere Möglichkeiten der Datenbindung"><table border="0">
                                                         <tbody>
                                                            <tr>
                                                               <td><label for="name">Name</label><br></td>
                                                               <td><input type="text" name="name" id="name" size="40"><br></td>
                                                            </tr>
                                                            <tr>
                                                               <td><label for="email">E-Mail</label><br></td>
                                                               <td><input type="text" name="email" id="email" size="40"><br></td>
                                                            </tr>
                                                            <tr>
                                                               <td valign="top"><label for="comment">Ihr Kommentar</label><br></td>
                                                               <td><textarea name="comment" id="comment" rows="10" cols="40"></textarea><br></td>
                                                            </tr>
                                                            <tr>
                                                               <td></td>
                                                               <td><input type="submit" value="Kommentar absenden"></td>
                                                            </tr>
                                                         </tbody>
                                                      </table>
                                                   </form>--><a href="https://www.galileo-press.de/feedback/produkt/3243/">>> Zum Feedback-Formular</a>
                                                </div>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </td>
                              </tr>
                              <tr>
                                 <td width="100%" class="start" colspan="1" height="22" align="center">
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                       <tbody>
                                          <tr>
                                             <td width="25%"><a href="1997_25_002.html" class="navnav"> &lt;&lt; zurück</a></td>
                                             <td width="49%">
                                                <div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
                                             </td>
                                             <td align="right" width="25%">
                                                <div align="right"><a href="1997_25_004.html" class="navnav">vor &gt;&gt;
                                                      </a></div>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
               </td>
               <td width="10" valign="top"></td>
               <td width="160" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="160">
                  <tbody><tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2">
                  &nbsp;<a href="https://www.galileo-press.de/?GPP=opvcs" class="autor">
                  <strong>Zum Katalog</strong></a>
                  </td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2">
                  <img src="common/leer.gif" border="0" height="1" width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td><a href="https://www.galileo-press.de/3243/?GPP=opvcs">
                  <img src="common/1997.png" width="118" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Visual C# 2012" title="Zum Katalog: Visual C# 2012">
                  <br><br><strong>Visual C# 2012</strong><br><img src="common/pfeil_rechts5.gif" border="0"
                  alt="">Jetzt bestellen</a><br /><br />
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Ihre Meinung?</strong></a></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br><a href="#kommentar"><img src="common/pfeil_rechts5.gif"
                  border="0" alt="">Ihre Meinung</a>
                  <br><br></td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  </td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2">&nbsp;<a href="https://www.galileo-press.de/?GPP=opvcs"
                  class="autor"><strong>Buchempfehlungen</strong></a></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/3175/?GPP=opvcs">
                  <img src="common/1954.png" width="113" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Professionell entwickeln mit Visual C# 2012"><br><br><br><br><br><br>&nbsp;Professionell<br>&nbsp;entwickeln mit<br>&nbsp;Visual C# 2012</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/3179/?GPP=opvcs">
                  <img src="common/1956.png" width="118" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Windows Presentation Foundation 4.5"><br><br><br><br><br><br><br>&nbsp;Windows Presentation<br>&nbsp;Foundation 4.5<br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/3196/?GPP=opvcs">
                  <img src="common/1968.png" width="111" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Windows Store Apps mit XAML und C#"><br><br><br><br><br><br><br>&nbsp;Windows Store Apps<br>&nbsp;mit XAML und C#<br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/3189/?GPP=opvcs">
                  <img src="common/1960.png" width="110" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Einstieg in Visual C# 2012"><br><br><br><br><br><br><br>&nbsp;Einstieg in<br>&nbsp;Visual C# 2012</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/3214/?GPP=opvcs">
                  <img src="common/1967.png" width="110" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Einstieg in WPF 4.5"><br><br><br><br><br><br><br>&nbsp;Einstieg in WPF 4.5</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/2853/?GPP=opvcs">
                  <img src="common/1756.png" width="121" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: Schrödinger programmiert C++"><br><br><br><br><br><br><br>&nbsp;Schrödinger<br>&nbsp;programmiert C++</a><br><br></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td><td valign="top">
                  <a href="http://www.galileo-press.de/2824/?GPP=opvcs">
                  <img src="common/1732.png" width="109" height="90" border="0" align="left" hspace="4"
                  vspace="8" alt="Zum Katalog: C++11 programmieren"><br><br><br><br><br><br><br>&nbsp;C++11 programmieren</a><br><br></td>
                  </tr>
                  </table></td>
                  </tr>
                  <tr>
                  <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
                  </tr>
                  <tr>
                  <td>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                  <tr>
                  <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Shopping</strong></span></td>
                  </tr>
                  <tr>
                  <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1"
                  width="1"></td>
                  <td valign="top">
                  <table cellspacing="3">
                  <tr>
                  <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br><a href="https://www.galileo-press.de/hilfe/bestellung_6?GPP=opvcs"><img
                  src="common/pfeil_rechts5.gif" border="0" alt="Info">Info</a><br><br></td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </table>
                  </td>
                  </tr>
                  </tbody></table>
                  <br><br><hr align="center" width="70%"><br><div align="center">
                  <p class="standard"><b>Copyright © Galileo Press 2013</b><br>Für Ihren privaten Gebrauch
                  dürfen Sie die Online-Version natürlich ausdrucken. Ansonsten unterliegt das &lt;openbook&gt;
                  denselben Bestimmungen, wie die gebundene Ausgabe: Das Werk einschließlich aller seiner
                  Teile ist urheberrechtlich geschützt. Alle Rechte vorbehalten einschließlich der Vervielfältigung,
                  Übersetzung, Mikroverfilmung sowie Einspeicherung und Verarbeitung in elektronischen
                  Systemen.</p><br><a href="https://www.galileo-press.de/">[Galileo Computing]</a><br><br>Galileo
                  Press, Rheinwerkallee 4, 53227 Bonn, Tel.: 0228.42150.0, Fax 0228.42150.77, <a href="mailto:info@galileo-press.de">info@galileo-press.de</a></div><br><br>
               </td>
            </tr>
         </tbody>
      </table>
   </body>
</html>